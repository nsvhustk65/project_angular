<form (ngSubmit)="handleSubmit()" #productForm="ngForm">
  <div class="mb-3">
    <label for="title" class="form-label">Tên sản phẩm</label>
    <input
      type="text"
      id="title"
      name="title"
      class="form-control"
      required
      minlength="3"
      [(ngModel)]="product.title"
      #title="ngModel"
      [ngClass]="{ 'is-invalid': title.invalid && title.touched }"
    />
    <div *ngIf="title.invalid && title.touched" class="invalid-feedback">
      <div *ngIf="title.errors?.['required']">Tên sản phẩm bắt buộc nhập.</div>
      <div *ngIf="title.errors?.['minlength']">Tên sản phẩm phải từ 3 ký tự trở lên.</div>
    </div>
  </div>

  <div class="mb-3">
    <label for="price" class="form-label">Giá sản phẩm</label>
    <input
      type="number"
      id="price"
      name="price"
      class="form-control"
      required
      min="1"
      [(ngModel)]="product.price"
      #price="ngModel"
      [ngClass]="{ 'is-invalid': price.invalid && price.touched }"
    />
    <div *ngIf="price.invalid && price.touched" class="invalid-feedback">
      <div *ngIf="price.errors?.['required']">Giá sản phẩm bắt buộc nhập.</div>
      <div *ngIf="price.errors?.['min']">Giá sản phẩm phải lớn hơn 0.</div>
    </div>
  </div>

  <div class="mb-3">
    <label for="image" class="form-label">Link ảnh sản phẩm</label>
    <input
      type="text"
      id="image"
      name="image"
      class="form-control"
      required
      pattern="https?://.+"
      [(ngModel)]="product.image"
      #image="ngModel"
      [ngClass]="{ 'is-invalid': image.invalid && image.touched }"
    />
    <div *ngIf="image.invalid && image.touched" class="invalid-feedback">
      <div *ngIf="image.errors?.['required']">Ảnh sản phẩm bắt buộc nhập.</div>
      <div *ngIf="image.errors?.['pattern']">Link ảnh phải bắt đầu bằng http:// hoặc https://</div>
    </div>
  </div>

  <div class="mb-3">
    <label for="inStock" class="form-label">Trạng thái</label>
    <select
      id="inStock"
      name="inStock"
      class="form-control"
      required
      [(ngModel)]="product.inStock"
      #inStock="ngModel"
    >
      <option [ngValue]="true">Còn hàng</option>
      <option [ngValue]="false">Hết hàng</option>
    </select>
  </div>

  <button type="submit" class="btn btn-primary" [disabled]="productForm.invalid">Thêm sản phẩm</button>
</form>
